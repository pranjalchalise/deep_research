{
  "metadata": {
    "key": "page:https://stackoverflow.com/questions/71898427/getting-error-typeerror-cannot-read-properties-of-null-reading-usestate-o",
    "created": 1769880082.763703,
    "ttl": 604800
  },
  "data": "Collectives™ on Stack Overflow Find centralized, trusted content and collaborate around the technologies you use most. Learn more about Collectives Stack Internal Knowledge at work Bring the best of human thought and AI automation together at your work. Explore Stack Internal getting error \"TypeError: Cannot read properties of null (reading 'useState')\" on useState usage react Ask Question Asked 3 years, 9 months ago Modified 1 year, 5 months ago Viewed 162k times 56 So I'm trying to use useState in my nextjs app, but as soon as I add in the line of code to initialize useState it throws a popup error with the error message: TypeError: Cannot read properties of null (reading 'useState') Here is a simplified version of my code: import { useState } from 'react' export default function Home() { return ( <div> <Transactions /> </div> ) } const Transactions = () => { const [state, setState] = useState('test') ... } React/Next versions I'm running: \"next\": \"12.1.5\", \"react\": \"18.0.0\", \"react-dom\": \"18.0.0\" Screenshot of error from chrome dev tools: Any thoughts on what's causing this? Thanks EDIT Very dumb bug on my end, issue was resolved by importing react... javascript reactjs next.js use-state Share Improve this question Follow edited Apr 24, 2022 at 22:53 asked Apr 17, 2022 at 0:22 Brace Sproul 823 1 1 gold badge 14 14 silver badges 23 23 bronze badges 3 I can't repro with the simplified version of your code, so there's a good chance the problem is in the details. Could you post a full example? Nick Bailey – Nick Bailey 2022-04-17 00:39:05 +00:00 Commented Apr 17, 2022 at 0:39 Repo link: github.com/bracesproul/Budget-Tracker/blob/main/pages/… Brace Sproul – Brace Sproul 2022-04-17 01:16:56 +00:00 Commented Apr 17, 2022 at 1:16 @BraceSproul I have this error and I AM importing react . I'm using the latest nextjs, react and typescript. Kirk Ross – Kirk Ross 2022-12-19 00:57:44 +00:00 Commented Dec 19, 2022 at 0:57 Add a comment | 19 Answers 19 Sorted by: Reset to default Highest score (default) Trending (recent votes count more) Date modified (newest first) Date created (oldest first) 19 If you are using Next 13 App router this could be happening if you are using an async function Wrong: \"use client\" export default async function Page() { const [variable, setVariable] = useState(); } Right: \"use client\" export default function Page() { //Remove Async Keyword const [variable, setVariable] = useState(); } Share Improve this answer Follow answered Jun 14, 2023 at 21:41 jusimen 456 5 5 silver badges 15 15 bronze badges Sign up to request clarification or add additional context in comments. 2 Comments Add a comment Jack Damon Jack Damon Over a year ago What if I need the function to be async though? 2023-07-13T19:10:29.25Z+00:00 1 Reply Copy link jusimen jusimen Over a year ago You need to use 'useEffect' to get the data and manage the page loading state using 'useState' @JackDamon 2023-07-14T02:39:12.68Z+00:00 0 Reply Copy link 18 Just define State inside the Home function Share Improve this answer Follow answered Jun 18, 2022 at 7:13 Alireza Khaksar 255 2 2 silver badges 5 5 bronze badges 2 Comments Add a comment MarkWalczak MarkWalczak Over a year ago Could you share the fixed code? 2023-04-26T09:03:35.447Z+00:00 0 Reply Copy link Tejas Sherdiwala Tejas Sherdiwala Over a year ago can you help with a brief explanation as the nested component can also be having state. 2024-03-21T14:36:18.123Z+00:00 4 Reply Copy link 6 So I forked and cloned your github repo and was not able to reproduce the error on my system. One thing I found was in your navBar component you import import Link from 'next/Link' which threw me an error until I could change it next/link to lowercase import Link from 'next/link' What I would recommend doing is to reinstall react, just with a simple npm command to see if that fixes your problem. If not let me know! npm uninstall react npm install react@latest Share Improve this answer Follow answered Apr 18, 2022 at 1:49 Mason Clark 221 2 2 silver badges 10 10 bronze badges Comments Add a comment 5 May you use \"hook\" outside of the function component because hook does not work outside of the function Share Improve this answer Follow edited Oct 9, 2023 at 21:40 Muhammad Umar Gulzar 184 1 1 silver badge 11 11 bronze badges answered Jan 11, 2023 at 11:29 IMRAN KALEEL 67 1 1 silver badge 2 2 bronze badges 1 Comment Add a comment Community Community Over a year ago As it’s currently written, your answer is unclear. Please edit to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers in the help center . 2023-01-12T05:20:00.353Z+00:00 2 Reply Copy link 3 If you have defined const [userName, setUserName] = useState(\"\"); outside the component. Than this error may come. Just move your const [userName, setUserName] = useState(\"\"); inside your component. Not working: const [userName, setUserName] = useState(\"\"); const AppLayout = () => { return ( <div className=\"app\"> <Header /> <Body /> </div> ); }; Working: const AppLayout = () => { const [userName, setUserName] = useState(\"\"); return ( <div className=\"app\"> <Header /> <Body /> </div> ); }; Share Improve this answer Follow answered Oct 8, 2023 at 21:48 KushalSeth 5,054 1 1 gold badge 42 42 silver badges 39 39 bronze badges 1 Comment Add a comment Jason Jason Feb 26, 2025 at 19:31 this helped me thanks a lot. 2025-02-26T19:31:26.34Z+00:00 1 Reply Copy link 2 This can also happen because of the way you export the function: wrong: export default YourComponent(); correct: export default YourComponent; Share Improve this answer Follow answered Sep 29, 2023 at 20:58 Misguided Chunk 417 6 6 silver badges 13 13 bronze badges Comments Add a comment 1 Got the same error message and this line of code basically fixed it. import React, { useState } from 'react'; Noticed that I had the incorrect import which was causing the issue on my end. Hope this helps. Share Improve this answer Follow answered Nov 11, 2022 at 19:10 Mike Caballero 51 3 3 bronze badges Comments Add a comment 1 I was developing a Shopify app and had the same issue. In my case, I deleted the react folder from my_project\\node_modules\\@shopify\\cli-kit\\node_modules\\react and re-run the app. It re-created the react folder by its own and fixed the problem. Share Improve this answer Follow answered Jun 5, 2024 at 19:49 sanjidulhaque 85 2 2 silver badges 10 10 bronze badges Comments Add a comment 1 I got the same error during the build time, i fixed it by upgrade nextjs and react to the latest version: nextjs 14.0.1 -> 14.2.5 react 18.2.0 -> 18.3.1 Share Improve this answer Follow answered Jul 26, 2024 at 2:14 Owenc 171 1 1 silver badge 9 9 bronze badges Comments Add a comment 1 I was encountering this issue while developing a react component library package. My test Nextjs application lived inside the root directory of the package. my-package/ ├── src/ ├──├── ... ├── test/ <-- contains it's own package.json & node_modules ├── package.json ├── ... The issue was caused by npm link & multiple react versions I set react & react-dom as peer dependancies within the library (root package.json) \"peerDependencies\": { \"react\": \"^18.3.1\", \"react-dom\": \"^18.3.1\" } I linked the versions of react to the test application's react versions npm link ./path-to-app/node_modules/react ./path-to-app/node_modules/react-dom This solved the issue for me. Props to this article: Invalid hook call - How to resolve multiple versions of React running during development Share Improve this answer Follow answered Aug 7, 2024 at 21:13 clxrity 386 4 4 silver badges 15 15 bronze badges Comments Add a comment 0 Mostly, the error is because useState is not being used inside the function that's being exported. Just use useState inside a function and the issue will be solved! Share Improve this answer Follow edited Jul 20, 2023 at 6:45 greybeard 2,696 9 9 gold badges 40 40 silver badges 71 71 bronze badges answered Jul 13, 2023 at 7:23 Parth Puranik 1 1 1 bronze badge Comments Add a comment 0 use the function as export default function Register () { const [credentials, setCredentials] = useState(); This work for you Share Improve this answer Follow edited Aug 23, 2023 at 8:20 user4136999 answered Aug 23, 2023 at 5:25 Shehan Lakshitha 442 2 2 silver badges 16 16 bronze badges Comments Add a comment 0 Had the error even after importing react,usestate and even defined the usestate inside a function, but the actual issue was I was calling the function in the export line removed the () error resolved, Hope this helps. Share Improve this answer Follow answered Sep 15, 2023 at 6:14 Karthick R 1 1 Comment Add a comment Community Community Over a year ago As it’s currently written, your answer is unclear. Please edit to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers in the help center . 2023-09-17T00:36:33.993Z+00:00 0 Reply Copy link 0 For me, my /node_modules was corruped for some reason rm -fr /node_modules npm i Share Improve this answer Follow edited Apr 24, 2024 at 23:24 starball ♦ 60.4k 54 54 gold badges 327 327 silver badges 1.1k 1.1k bronze badges answered Apr 24, 2024 at 22:15 Fractal Mind 492 5 5 silver badges 13 13 bronze badges Comments Add a comment 0 I got the same error, in my case it was because of a library (ReactToastify or simply 'toast') I used. After you install this library you have to write after the closing in App.js. Hope that helps. Share Improve this answer Follow answered May 11, 2024 at 1:30 Ahmad zia Nasrat 1 Comments Add a comment 0 In my case, I had a git submodule in a subfolder. This submodule had its own node_modules . I had to remove them to fix this error. Interestingly, this only occurred in the production build. Share Improve this answer Follow answered May 30, 2024 at 9:21 bmakan 461 5 5 silver badges 15 15 bronze badges Comments Add a comment -1 Just create a folder called \"hooks\" add paste this code there. I was the same probleam and that worked for me Share Improve this answer Follow answered Oct 7, 2022 at 2:59 Bruno 1 1 Comment Add a comment Community Community Over a year ago Your answer could be improved with additional supporting information. Please edit to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers in the help center . 2022-10-11T11:56:24.503Z+00:00 2 Reply Copy link -3 When migrating to next make sure you don't use any other Link except from next-js. Share Improve this answer Follow answered Sep 12, 2022 at 22:25 Code ninja 198 1 1 silver badge 5 5 bronze badges Comments Add a comment -3 Just reinstall the newest version react npm install react@latest Share Improve this answer Follow answered Oct 2, 2022 at 8:37 greeneley 117 7 7 bronze badges Comments Add a comment Your Answer Draft saved Draft discarded Sign up or log in Sign up using Google Sign up using Email and Password Submit Post as a guest Name Email Required, but never shown Post Your Answer Discard By clicking “Post Your Answer”, you agree to our terms of service and acknowledge you have read our privacy policy . Start asking to get answers Find the answer to your question by asking. Ask question Explore related questions javascript reactjs next.js use-state See similar questions with these tags. The Overflow Blog Are you learning with AI? We want to know about it! Wanna see a CSS magic trick? Featured on Meta Results of the January 2026 Community Asks Sprint: Community Badges All users on Stack Exchange can now participate in chat Policy: Generative AI (e.g., ChatGPT) is banned Stack Overflow now uses machine learning to flag spam automatically No, I do not believe this is the end Visit chat Linked 4 How to get form input value in Reactjs Related 0 useState initialization error in react js 2 Typescript useState<string> ReferenceError: string is not defined 5 react.js useState is not defined 0 useState create infinite loop 0 React useState keep giving me undefined 0 Error: Error in useStoreState: Cannot read properties of undefined (reading 'getState') - easy-peasy 1 React useState is working on one state but not the other 4 Next.js - TypeError: Cannot read properties of null (reading 'useMemo') 0 Error: React Hook \"useState\" is called in function 1 Why do I get TypeError: Cannot read property 'useState' of null? Hot Network Questions Are there any tips/tricks to improve simplification of this flavor of expression in Wolfram Engine? How to get sponsors for a mathematics conference? What ingredients can I use to water down a homemade Cumberland sauce? A Holiday to Remember... #1 Unauthorized Withdrawal After Sharing Bank Details: Questions on Risk and Prevention What is the meaning of this road sign? Can you withdraw Roth contributions tax- and penalty-free from a 403(b), like from a Roth IRA? Should I use the definite article with a short-form name? The Mordor RPG vs. Mordor RPG (Romans 10:6-8) The righteousness which is of faith speaketh? How do we know if a function is a “good approximation” of another? Is it true that for every graph with order at least two, there are at least two vertices of the same degree? What's the official site for Thailand e-Visa applications Change in undergraduate degree title after submitting graduate applications (UK applied mathematics programs) Does science prove that the self does not exist, and if so what would that mean for human society? \"What exactly is a \"reverse book\"? Are there dye which turn infrared lights into visible colored light? Book about a ship that travels the universe increasing gravity so that the Big Bang will occur again Quillen's conjecture What makes something a tool? MRCC restart (rest=1) using converged amplitudes from fort.16 gives a different energy — no warning about changed active orbitals. Why? Translate BBCode into HTML How to ruin coal? What has been written about ability or inability to directly sense libertarian free will? Is This Video on Bell's Theorem Wrong? more hot questions Question feed lang-js"
}