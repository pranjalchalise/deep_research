{
  "metadata": {
    "key": "page:https://en.wikipedia.org/wiki/Retrieval-augmented_generation",
    "created": 1769979728.161221,
    "ttl": 604800
  },
  "data": "From Wikipedia, the free encyclopedia Type of information retrieval using LLMs Retrieval-augmented generation ( RAG ) is a technique that enables large language models (LLMs) to retrieve and incorporate new information from external data sources. [ 1 ] With RAG, LLMs do not respond to user queries until they refer to a specified set of documents. These documents supplement information from the LLM's pre-existing training data . [ 2 ] This allows LLMs to use domain-specific and/or updated information that is not available in the training data. [ 2 ] For example, this helps LLM-based chatbots access internal company data or generate responses based on authoritative sources. RAG improves large language models (LLMs) by incorporating information retrieval before generating responses. [ 3 ] Unlike LLMs that rely on static training data, RAG pulls relevant text from databases, uploaded documents, or web sources. [ 1 ] According to Ars Technica , \"RAG is a way of improving LLM performance, in essence by blending the LLM process with a web search or other document look-up process to help LLMs stick to the facts.\" This method helps reduce AI hallucinations , [ 3 ] which have caused chatbots to describe policies that don't exist, or recommend nonexistent legal cases to lawyers that are looking for citations to support their arguments. [ 4 ] RAG also reduces the need to retrain LLMs with new data, saving on computational and financial costs. [ 1 ] Beyond efficiency gains, RAG also allows LLMs to include sources in their responses, so users can verify the cited sources. This provides greater transparency, as users can cross-check retrieved content to ensure accuracy and relevance. The term RAG was first introduced in a 2020 research paper. [ 3 ] RAG and LLM limitations [ edit ] LLMs can provide incorrect information. For example, when Google first demonstrated its LLM tool \" Google Bard \" (later re-branded to Gemini), the LLM provided incorrect information about the James Webb Space Telescope . This error contributed to a $100 billion decline in the company ’s stock value. [ 4 ] RAG is used to prevent these errors, but it does not solve all the problems. For example, LLMs can generate misinformation even when pulling from factually correct sources if they misinterpret the context. MIT Technology Review gives the example of an AI-generated response stating, \"The United States has had one Muslim president, Barack Hussein Obama.\" The model retrieved this from an academic book rhetorically titled Barack Hussein Obama: America’s First Muslim President? The LLM did not \"know\" or \"understand\" the context of the title, generating a false statement. [ 2 ] LLMs with RAG are programmed to prioritize new information. This technique has been called \"prompt stuffing.\" Without prompt stuffing, the LLM's input is generated by a user; with prompt stuffing, additional relevant context is added to this input to guide the model’s response. This approach provides the LLM with key information early in the prompt, encouraging it to prioritize the supplied data over pre-existing training knowledge. [ 5 ] Process [ edit ] Retrieval-augmented generation (RAG) enhances large language models (LLMs) by incorporating an information-retrieval mechanism that allows models to access and utilize additional data beyond their original training set. Ars Technica notes that \"when new information becomes available, rather than having to retrain the model, all that’s needed is to augment the model’s external knowledge base with the updated information\" (\"augmentation\"). [ 4 ] IBM states that \"in the generative phase, the LLM draws from the augmented prompt and its internal representation of its training data to synthesize an engaging answer tailored to the user in that instant\". [ 1 ] RAG key stages [ edit ] Overview of RAG process, combining external documents and user input into an LLM prompt to get tailored output Typically, the data to be referenced is converted into LLM embeddings , numerical representations in the form of a large vector space. RAG can be used on unstructured (usually text), semi-structured, or structured data (for example knowledge graphs ). These embeddings are then stored in a vector database to allow for document retrieval . Given a user query, a document retriever is first called to select the most relevant documents that will be used to augment the query. [ 2 ] [ 3 ] This comparison can be done using a variety of methods, which depend in part on the type of indexing used. [ 1 ] The model feeds this relevant retrieved information into the LLM via prompt engineering of the user's original query. Newer implementations (as of 2023 [update] ) can also incorporate specific augmentation modules with abilities such as expanding queries into multiple domains and using memory and self-improvement to learn from previous retrievals. Finally, the LLM can generate output based on both the query and the retrieved documents. [ 2 ] [ 6 ] Some models incorporate extra steps to improve output, such as the re-ranking of retrieved information, context selection, and fine-tuning . Improvements [ edit ] Improvements to the basic process above can be applied at different stages in the RAG flow. Encoder [ edit ] These methods focus on the encoding of text as either dense or sparse vectors. Sparse vectors , which encode the identity of a word, are typically dictionary -length and contain mostly zeros. Dense vectors , which encode meaning, are more compact and contain fewer zeros. Various enhancements can improve the way similarities are calculated in the vector stores (databases). [ 7 ] Performance improves by optimizing how vector similarities are calculated. Dot products enhance similarity scoring, while approximate nearest neighbor (ANN) searches improve retrieval efficiency over K-nearest neighbors (KNN) searches. [ 8 ] Accuracy may be improved with Late Interactions, which allow the system to compare words more precisely after retrieval. This helps refine document ranking and improve search relevance. [ 9 ] Hybrid vector approaches may be used to combine dense vector representations with sparse one-hot vectors, taking advantage of the computational efficiency of sparse dot products over dense vector operations. [ 7 ] Other retrieval techniques focus on improving accuracy by refining how documents are selected. Some retrieval methods combine sparse representations, such as SPLADE, with query expansion strategies to improve search accuracy and recall. [ 10 ] Retriever-centric methods [ edit ] These methods aim to enhance the quality of document retrieval in vector databases: Pre-training the retriever using the Inverse Cloze Task (ICT), a technique that helps the model learn retrieval patterns by predicting masked text within documents. [ 11 ] Supervised retriever optimization aligns retrieval probabilities with the generator model’s likelihood distribution. This involves retrieving the top-k vectors for a given prompt, scoring the generated response’s perplexity , and minimizing KL divergence between the retriever’s selections and the model’s likelihoods to refine retrieval. [ 12 ] Reranking techniques can refine retriever performance by prioritizing the most relevant retrieved documents during training. [ 13 ] Language model [ edit ] Retro language model for RAG. Each Retro block consists of Attention, Chunked Cross Attention, and Feed Forward layers. Black-lettered boxes show data being changed, and blue lettering shows the algorithm performing the changes. By redesigning the language model with the retriever in mind, a 25-time smaller network can get comparable perplexity as its much larger counterparts. [ 14 ] Because it is trained from scratch, this method (Retro) incurs the high cost of training runs that the original RAG scheme avoided. The hypothesis is that by giving domain knowledge during training, Retro needs less focus on the domain and can devote its smaller weight resources only to language semantics. The redesigned language model is shown here. It has been reported that Retro is not reproducible, so modifications were made to make it so. The more reproducible version is called Retro++ and includes in-context RAG. [ 15 ] Chunking [ edit ] Chunking involves various strategies for breaking up the data into vectors so the retriever can find details in it. Different data styles have patterns that correct chunking can take advantage of. Three types of chunking strategies are: [ citation needed ] Fixed length with overlap. This is fast and easy. Overlapping consecutive chunks helps to maintain semantic context across chunks. Syntax-based chunks can break the document up into sentences. Libraries such as spaCy or NLTK can also help. File format-based chunking. Certain file types have natural chunks built in, and it's best to respect them. For example, code files are best chunked and vectorized as whole functions or classes. HTML files should leave <table> or base64 encoded <img> elements intact. Similar considerations should be taken for pdf files. Libraries such as Unstructured or Langchain can assist with this method. Hybrid search [ edit ] Sometimes vector database searches can miss key facts needed to answer a user's question. One way to mitigate this is to do a traditional text search, add those results to the text chunks linked to the retrieved vectors from the vector search, and feed the combined hybrid text into the language model for generation. [ citation needed ] Evaluation and benchmarks [ edit ] RAG systems are commonly evaluated using benchmarks designed to test retrievability , retrieval accuracy and generative quality. Popular datasets include BEIR, a suite of information retrieval tasks across diverse domains, and Natural Questions or Google QA for open-domain QA. [ citation needed ] Challenges [ edit ] RAG does not prevent hallucinations in LLMs. According to Ars Technica , \"It is not a direct solution because the LLM can still hallucinate around the source material in its response.\" [ 4 ] While RAG improves the accuracy of large language models (LLMs), it does not eliminate all challenges. One limitation is that while RAG reduces the need for frequent model retraining, it does not remove it entirely. Additionally, LLMs may struggle to recognize when they lack sufficient information to provide a reliable response. Without specific training, models may generate answers even when they should indicate uncertainty. According to IBM , this issue can arise when the model lacks the ability to assess its own knowledge limitations. [ 1 ] RAG poisoning [ edit ] RAG systems may retrieve factually correct but misleading sources, leading to errors in interpretation. In some cases, an LLM may extract statements from a source without considering its context, resulting in an incorrect conclusion. Additionally, when faced with conflicting information, RAG models may struggle to determine which source is accurate. The worst case outcome of this limitation is that the model may combine details from multiple sources producing responses that merge outdated and updated information in a misleading manner. According to the MIT Technology Review , these issues occur because RAG systems may misinterpret the data they retrieve. [ 2 ] References [ edit ] ^ a b c d e f \"What is retrieval-augmented generation?\" . IBM . 22 August 2023 . Retrieved 7 March 2025 . ^ a b c d e f \"Why Google's AI Overviews gets things wrong\" . MIT Technology Review . 31 May 2024 . Retrieved 7 March 2025 . ^ a b c d Lewis, Patrick; Perez, Ethan; Piktus, Aleksandra; Petroni, Fabio; Karpukhin, Vladimir; Goyal, Naman; Küttler, Heinrich; Lewis, Mike; Yih, Wen-tau; Rocktäschel, Tim; Riedel, Sebastian; Kiela, Douwe (6 December 2020). Retrieval-augmented generation for knowledge-intensive NLP tasks . International Conference on Neural Information Processing Systems. Red Hook, NY, USA: Curran Associates Inc. ISBN 978-1-7138-2954-6 . Retrieved 9 December 2025 . ^ a b c d \"Can a technology called RAG keep AI models from making stuff up?\" . Ars Technica . 6 June 2024 . Retrieved 7 March 2025 . ^ \"Mitigating LLM hallucinations in text summarisation\" . BBC . 20 June 2024 . Retrieved 7 March 2025 . ^ Lewis, Patrick; Perez, Ethan; Piktus, Aleksandra; Petroni, Fabio; Karpukhin, Vladimir; Goyal, Naman; Küttler, Heinrich; Lewis, Mike; Yih, Wen-tau; Rocktäschel, Tim; Riedel, Sebastian; Kiela, Douwe (2020). \"Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks\" . Advances in Neural Information Processing Systems . 33 . Curran Associates, Inc.: 9459– 9474. arXiv : 2005.11401 . ^ a b Luan, Yi; Eisenstein, Jacob; Toutanova, Kristina; Collins, Michael (26 April 2021). \"Sparse, Dense, and Attentional Representations for Text Retrieval\" . Transactions of the Association for Computational Linguistics . 9 : 329– 345. arXiv : 2005.00181 . doi : 10.1162/tacl_a_00369 . Retrieved 15 March 2025 . ^ \"Information retrieval\" . Microsoft . 10 January 2025 . Retrieved 15 March 2025 . ^ Khattab, Omar; Zaharia, Matei (2020). \"ColBERT: Efficient and Effective Passage Search via Contextualized Late Interaction over BERT\" . Proceedings of the 43rd International ACM SIGIR Conference on Research and Development in Information Retrieval . pp. 39– 48. doi : 10.1145/3397271.3401075 . ISBN 978-1-4503-8016-4 . ^ Wang, Yup; Conroy, John M.; Molino, Neil; Yang, Julia; Green, Mike (2024). \"Laboratory for Analytic Sciences in TREC 2024 Retrieval Augmented Generation Track\" . NIST TREC 2024 . Retrieved 15 March 2025 . ^ Lee, Kenton; Chang, Ming-Wei; Toutanova, Kristina (2019). \" \"Latent Retrieval for Weakly Supervised Open Domain Question Answering\" \" (PDF) . ^ Shi, Weijia; Min, Sewon; Yasunaga, Michihiro; Seo, Minjoon; James, Rich; Lewis, Mike; Zettlemoyer, Luke; Yih, Wen-tau (June 2024). \"REPLUG: Retrieval-Augmented Black-Box Language Models\" . Proceedings of the 2024 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies (Volume 1: Long Papers) . pp. 8371– 8384. arXiv : 2301.12652 . doi : 10.18653/v1/2024.naacl-long.463 . Retrieved 16 March 2025 . ^ Ram, Ori; Levine, Yoav; Dalmedigos, Itay; Muhlgay, Dor; Shashua, Amnon; Leyton-Brown, Kevin; Shoham, Yoav (2023). \"In-Context Retrieval-Augmented Language Models\" . Transactions of the Association for Computational Linguistics . 11 : 1316– 1331. arXiv : 2302.00083 . doi : 10.1162/tacl_a_00605 . Retrieved 16 March 2025 . ^ Borgeaud, Sebastian; Mensch, Arthur (2021). \"Improving language models by retrieving from trillions of tokens\" (PDF) . ^ Wang, Boxin; Ping, Wei; Xu, Peng; McAfee, Lawrence; Liu, Zihan; Shoeybi, Mohammad; Dong, Yi; Kuchaiev, Oleksii; Li, Bo; Xiao, Chaowei; Anandkumar, Anima; Catanzaro, Bryan (2023). \"Shall We Pretrain Autoregressive Language Models with Retrieval? A Comprehensive Study\" . Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing . pp. 7763– 7786. doi : 10.18653/v1/2023.emnlp-main.482 . v t e Generative AI Concepts Autoencoder Deep learning Fine-tuning Foundation model Generative adversarial network Generative pre-trained transformer Large language model Model Context Protocol Neural network Prompt engineering Reinforcement learning from human feedback Retrieval-augmented generation Self-supervised learning Stochastic parrot Synthetic data Top-p sampling Transformer Variational autoencoder Vibe coding Vision transformer Word embedding Chatbots Character.ai ChatGPT Copilot DeepSeek Ernie Gemini Grok Perplexity.ai Models Text Claude Gemini Gemma GPT 1 2 3 J 4 4o 4.5 4.1 OSS 5 5.1 5.2 Llama o1 o3 o4-mini Qwen Velvet Coding Claude Code Cursor Devstral GitHub Copilot Kimi Qwen3-Coder Replit Image Aurora Firefly DALL-E Flux GPT Image Ideogram Imagen Nano Banana Midjourney Qwen-Image Recraft Seedream Stable Diffusion Video Dream Machine Hailuo AI Kling AI Runway Gen Seedance LTX-2 Sora Veo Wan Speech 15.ai Eleven MiniMax Speech 2.5 WaveNet Music Eleven Music Endel Lyria Riffusion Suno Udio Controversies Generative AI pornography Deepfake pornography Taylor Swift's Google Gemini image generation Pause Giant AI Experiments Removal of Sam Altman from OpenAI Statement on AI Risk Tay (chatbot) Théâtre D'opéra Spatial Voiceverse NFT plagiarism Agents Agentforce AutoGLM AutoGPT ChatGPT Agent Devin AI Manus OpenAI Codex Operator Replit Agent Companies Aleph Alpha Anthropic Anysphere Cognition AI Cohere Contextual AI DeepSeek EleutherAI ElevenLabs Google DeepMind HeyGen Hugging Face Inflection AI Krikey AI Kuaishou Lightricks Luma Labs Meta AI MiniMax Mistral AI Moonshot AI OpenAI Perplexity AI Runway Safe Superintelligence Salesforce Scale AI SoundHound Stability AI StepFun Synthesia Thinking Machines Lab Upstage xAI Z.ai Category v t e Artificial intelligence (AI) History timeline Glossary Companies Projects Concepts Parameter Hyperparameter Loss functions Regression Bias–variance tradeoff Double descent Overfitting Clustering Gradient descent SGD Quasi-Newton method Conjugate gradient method Backpropagation Attention Convolution Normalization Batchnorm Activation Softmax Sigmoid Rectifier Gating Weight initialization Regularization Datasets Augmentation Prompt engineering Reinforcement learning Q-learning SARSA Imitation Policy gradient Diffusion Latent diffusion model Autoregression Adversary RAG Uncanny valley RLHF Self-supervised learning Reflection Recursive self-improvement Hallucination Word embedding Vibe coding Safety ( Alignment ) Applications Machine learning In-context learning Artificial neural network Deep learning Language model Large NMT Reasoning Model Context Protocol Intelligent agent Artificial human companion Humanity's Last Exam Lethal autonomous weapons (LAWs) Generative artificial intelligence (GenAI) (Hypothetical: Artificial general intelligence (AGI) ) (Hypothetical: Artificial superintelligence (ASI) ) Implementations Audio–visual AlexNet WaveNet Human image synthesis HWR OCR Computer vision Speech synthesis 15.ai ElevenLabs Speech recognition Whisper Facial recognition AlphaFold Text-to-image models Aurora DALL-E Firefly Flux GPT Image Ideogram Imagen Midjourney Recraft Stable Diffusion Text-to-video models Dream Machine Runway Gen Hailuo AI Kling Sora Veo Music generation Riffusion Suno AI Udio Text Word2vec Seq2seq GloVe BERT T5 Llama Chinchilla AI PaLM GPT 1 2 3 J ChatGPT 4 4o o1 o3 4.5 4.1 o4-mini 5 5.1 5.2 Claude Gemini Gemini (language model) Gemma Grok LaMDA BLOOM DBRX Project Debater IBM Watson IBM Watsonx Granite PanGu-Σ DeepSeek Qwen Decisional AlphaGo AlphaZero OpenAI Five Self-driving car MuZero Action selection AutoGPT Robot control People Alan Turing Warren Sturgis McCulloch Walter Pitts John von Neumann Christopher D. Manning Claude Shannon Shun'ichi Amari Kunihiko Fukushima Takeo Kanade Marvin Minsky John McCarthy Nathaniel Rochester Allen Newell Cliff Shaw Herbert A. Simon Oliver Selfridge Frank Rosenblatt Bernard Widrow Joseph Weizenbaum Seymour Papert Seppo Linnainmaa Paul Werbos Geoffrey Hinton John Hopfield Jürgen Schmidhuber Yann LeCun Yoshua Bengio Lotfi A. Zadeh Stephen Grossberg Alex Graves James Goodnight Andrew Ng Fei-Fei Li Alex Krizhevsky Ilya Sutskever Oriol Vinyals Quoc V. Le Ian Goodfellow Demis Hassabis David Silver Andrej Karpathy Ashish Vaswani Noam Shazeer Aidan Gomez John Schulman Mustafa Suleyman Jan Leike Daniel Kokotajlo François Chollet Architectures Neural Turing machine Differentiable neural computer Transformer Vision transformer (ViT) Recurrent neural network (RNN) Long short-term memory (LSTM) Gated recurrent unit (GRU) Echo state network Multilayer perceptron (MLP) Convolutional neural network (CNN) Residual neural network (RNN) Highway network Mamba Autoencoder Variational autoencoder (VAE) Generative adversarial network (GAN) Graph neural network (GNN) Political Regulation of artificial intelligence Ethics of artificial intelligence Precautionary principle AI alignment EU Artificial Intelligence Act (AI Act) Social and economic AI boom AI bubble AI literacy AI winter In education In architecture In visual art Category Retrieved from \" https://en.wikipedia.org/w/index.php?title=Retrieval-augmented_generation&oldid=1335739515 \" Categories : Large language models Natural language processing Information retrieval systems Generative artificial intelligence Hidden categories: Articles with short description Short description is different from Wikidata Articles containing potentially dated statements from 2023 All articles containing potentially dated statements All articles with unsourced statements Articles with unsourced statements from August 2025 Articles with unsourced statements from February 2025"
}