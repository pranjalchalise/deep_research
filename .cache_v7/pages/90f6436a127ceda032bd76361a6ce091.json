{
  "metadata": {
    "key": "page:https://learn.microsoft.com/en-us/answers/questions/2118143/how-does-azure-openai-studio-chat-playground-handl",
    "created": 1769877054.996144,
    "ttl": 604800
  },
  "data": "Add Add Share via Facebook x.com LinkedIn Email How does Azure OpenAI Studio Chat Playground handle images in tokens? Oechslein, Marius 20 Reputation points 2024-11-12T12:04:24.1833333+00:00 In the Azure OpenAI Chat Playground, images are being uploaded for GPT-4o to generate descriptions. According to the OpenAI Vision documentation, images are processed in either \"low\" or \"high\" resolution mode: Low resolution mode encodes the image to 85 tokens. High resolution mode encodes the image in 85 tokens plus 170 token chunks for each 512x512px region for more detail. However, my experience in the Azure OpenAI Chat Playground is as follows: When a 1632x920 px image (313.6 KB) is pasted into the prompt, it reports 70 tokens used. Upon sending the prompt, it indicates 210 tokens used. This raises questions about how the Azure OpenAI Chat Playground processes these images, as the token counts do not align with the OpenAI Vision documentation. Additional information on this topic has been elusive. An explanation or direction to the correct resources would be greatly appreciated. Thank you. Azure OpenAI Service Azure OpenAI Service An Azure service that provides access to OpenAIâs GPT-3 models with enterprise capabilities. Sign in to follow Follow Sign in to follow Follow question 2 comments Hide comments for this question Report a concern I have the same question I have the same question 0 {count} votes AshokPeddakotla-MSFT â¢ Follow 36,016 Reputation points â¢ Moderator 2024-11-12T13:48:30.4766667+00:00 Oechslein, Marius Greetings & Welcome to Microsoft Q&A forum! I understand your concern. The additional tokens could be attributed to metadata or context information that is added when the image is processed and sent. This might include information about the image, additional text, or other contextual data required for the model to generate a description. Could you please try with various image sizes and dimensions to see if the token discrepancy is consistent or varies. This might help identify any specific conditions affecting token counts. Do let me know if there are any further queries. 0 votes Report a concern AshokPeddakotla-MSFT â¢ Follow 36,016 Reputation points â¢ Moderator 2024-11-13T14:06:33.76+00:00 Oechslein, Marius Just checking to see if you had a chance to review my response. Do let me know if that helps or have any other queries. 0 votes Report a concern Sign in to comment Add comment Comment Use comments to ask for clarification, additional information, or improvements to the question. Discard draft Add comment Answer accepted by question author Daniel Fang â¢ Follow 1,060 Reputation points 2024-11-14T12:00:30.23+00:00 Hi Oechslein, Marius In the new playground, you can see the token breakdown here: if you send the image, then enable [show JSON], you shall see the image is encoded into base64 format and sent to the server side. based on the info from openai forum, the image_url -> detail field would control the image to be processed in high / low or auto mode. based on the discussion below, it seems to indicate the detail value is default to auto when unspecified. My thinking is that the vision model will process based on the actual resolution of the image. The best way to find out the actual consumed token for a request is to use a curl call to the endpoint with the json payload containing base64 image. you can get the curl sample using the View code option then choose curl . make sure to add curl -i so that it prints out headers too. image_url: { url: \"https://your-image-url.com\", detail: \"low\", } https://community.openai.com/t/gpt-4-vision-preview-fidelity-detail-parameter/477563 Please sign in to rate this answer. Yes No 1 person found this answer helpful. 0 comments No comments Report a concern Sign in to comment Add comment Comment Use comments to ask for clarification, additional information, or improvements to the question. Discard draft Add comment 0 additional answers Sort by: Most helpful Most helpful Newest Oldest Sign in to answer Your answer Answer Answers can be marked as 'Accepted' by the question author and 'Recommended' by moderators, which helps users know the answer solved the author's problem. Post your answer Discard draft"
}